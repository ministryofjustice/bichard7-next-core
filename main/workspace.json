{
  "configuration" : { },
  "description" : "Description",
  "documentation" : {
    "decisions" : [ {
      "content" : "# 1. Record architecture decisions\n\nDate: 2023-06-27\n\n## Status\n\nAccepted\n\n## Context\n\nWe need to record the architectural decisions made on this system.\n\n## Decision\n\nWe will use Architecture Decision Records, as [described by Michael Nygard](http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions).\n\n## Consequences\n\n- See Michael Nygard's article, linked above. For a lightweight ADR toolset, see Nat Pryce's [adr-tools](https://github.com/npryce/adr-tools).\n- Using [Structurizr](https://structurizr.com/)\n",
      "date" : "2023-06-27T00:00:00Z",
      "format" : "Markdown",
      "id" : "1",
      "status" : "Accepted",
      "title" : "Record architecture decisions"
    }, {
      "content" : "# 2. Use Data Transfer Objects\n\nDate: 2023-09-22\n\n## Status\n\nAccepted\n\n## Context\n\nUsing a Data Transfer Object (DTO) in the `bichard-next-ui` repo will help separate the User Interface (React) from\nthe Database objects. It will also allow to use TypeScript more effectively, enforcing stricter types on objects at\ncompile time.\n\nWe have chosen the naming convention of:\n\n- Types:\n  - `Display` - Prefix for the object to be consumed in the UI\n  - `DisplayPartial` - Prefix for the object which has limited fields\n  - `DisplayFull` - Prefix for the object which has all fields (that aren't a security risk)\n- File structure for DTOs\n  - `src/services/dto` top level\n  - Then for example: `objectDto.ts`\n- Which holds functions like:\n  - `objToDisplayObjDto`\n  - `objToDisplayPartialObjDto`\n\nA DTO object is a new object mirror with some of a Entity's attributes. We are actively using `Pick<T, \"field\">` to\nselect what we want to use out of the Entity and mapping via a function (e.g.\n`const displayObj = objToDisplayObjDto(obj)`).\n\nWe can control the levels of data we want share. E.g. `displayPartialObj` or `displayFullObj`.\n\n## Consequences\n\n- It's more complex than just using the Database Record\n- It's more secure than sending out raw database records into the UI\n- You have to be disciplined in it's use and following the architectural pattern\n",
      "date" : "2023-09-22T00:00:00Z",
      "format" : "Markdown",
      "id" : "2",
      "status" : "Accepted",
      "title" : "Use Data Transfer Objects"
    }, {
      "content" : "# 3. Use Styled Components\n\nDate: 2024-04-12\n\n## Status\n\nAccepted\n\n## Context\n\nWe are currently using two different styling libraries (3 if you include `scss` files). We want to reduce the need to\nknow how to use the libraries and simplify the code base.\n\nWe have opted to choose [Styled Components](https://styled-components.com/) over\n[React-JSS](https://cssinjs.org/react-jss/?v=v10.10.0)\n\nThe negatives for `react-jss` are it is less flexible with `React`. E.g. you can pass `props` to `styled-components`\nfor separate themes. It can also pollute other `components` as it based on class names rather than `components`.\n\n### File structure\n\nWe have opted to take the following approach to structuring the files:\n\n- `src/components/Action.styles.tsx`\n- `src/components/Action.tsx`\n\nThat allows to separate the styles from the `component` and keep close by. We can import other JS/TS files if needed,\ne.g. colours.\n\nWe should also export all the Styled Components at bottom of the file, e.g.\n\n```TypeScript\nexport { ActionLink, ActionButton }\n```\n\n## Consequences\n\n- More files\n- Need to know plain CSS\n- Need to learn how this library works\n",
      "date" : "2024-04-12T00:00:00Z",
      "format" : "Markdown",
      "id" : "3",
      "status" : "Accepted",
      "title" : "Use Styled Components"
    }, {
      "content" : "# 4. ESLint rule for newline after control flow blocks\n\nDate: 2024-05-23\n\n## Status\n\nAccepted\n\n## Context\n\nThis Pull Request introduces a new ESLint rule that enforces the addition of a newline after control flow blocks (e.g., `if`, `for`, `while`, `switch`). This rule aims to maintain consistent code formatting and enhance code readability across our codebase.\n\nWe have been following the convention of adding newlines after control flow blocks to improve code readability and formatting. However, this practice has been manually enforced, leading to potential inconsistencies. By introducing this ESLint rule, we can ensure that the linter automatically checks for this convention, streamlining the process and promoting a consistent coding style.\n\n## Consequences\n\n- ESLint might slow us down when committing changes if we have to fix files\n- ESLint might be too aggressive when it comes to applying the changes\n",
      "date" : "2024-05-23T00:00:00Z",
      "format" : "Markdown",
      "id" : "4",
      "status" : "Accepted",
      "title" : "ESLint rule for newline after control flow blocks"
    }, {
      "content" : "# 5. Using External Libraries\n\nDate: 2024-06-25\n\n## Status\n\nAccepted\n\n## Context\n\nTo ensure rapid delivery without reinventing the wheel, we will utilize external libraries and leverage existing solutions for complex problems. While these libraries provide substantial benefits, it's essential to establish guidelines to ensure a shared understanding of when to use external libraries and when to avoid them. Transitive dependencies can introduce underlying security vulnerabilities, increase the risk of dependency conflicts, and complicate the upgrade and maintenance processes.\n\n## Decision\n\n- We will prioritise using well-established libraries that are actively maintained and expected to have long-term support.\n- Libraries should have a proven track record of stability and regular updates, with a robust community or organizational backing to ensure continued maintenance and support.\n- To maintain simplicity and control over our codebase, we will avoid using external libraries for problems that can be solved internally with minimal effort and maintenance. For instance, we decided to create our own [AutoSave component](https://github.com/ministryofjustice/bichard7-next-ui/blob/main/src/components/EditableFields/AutoSave.tsx) for this reason.\n- Libraries with minimal dependencies are preferred (use `npm ls` to view dependency graph e.g `npm ls --all` or `npm ls sass`)\n\n## Consequences\n\n- By adopting well-established and maintained libraries with minimal dependencies, we enhance the security and stability of our projects and reduce the risk of vulnerabilities and maintenance issues.\n",
      "date" : "2024-06-25T00:00:00Z",
      "format" : "Markdown",
      "id" : "5",
      "status" : "Accepted",
      "title" : "Using External Libraries"
    }, {
      "content" : "# 6. Use [Fastify](https://fastify.dev/) API framework\n\nDate: 2024-09-13\n\n## Status\n\nAccepted\n\n## Context\n\nAs a team who are significantly invested in both [TypeScript](https://www.typescriptlang.org/) and [Zod](https://zod.dev/) for type safety both in development and at runtime, choosing technologies that provide first class support for these tools provides numerous benefits to the team:\n\n- Simplified developer experience\n- Succinct and easily digestible code\n- Shorter delivery time for features\n\nOur current web framework for the API is [Express](https://expressjs.com/). [Express](https://expressjs.com/) is a well supported, widely used framework that can be effectively used to build APIs. Given that our API is currently under development and isn't actively used in production, there isn't much code to change in order to change the web framework.\n\nWe are proposing to remove [Express](https://expressjs.com/) in order to utilise [Fastify](https://fastify.dev/), primarily on the basis that both frameworks can be effectively used to build APIs, but that [Fastify](https://fastify.dev/) provides first-class support for [TypeScript](https://www.typescriptlang.org/), [Zod](https://zod.dev/) and [OpenAPI](https://www.openapis.org/) document generation out of the box.\n\nThe decision to suggest [Fastify](https://fastify.dev/) results from having reviewed a number of web frameworks against our team's operational context - namely [NextJS](https://nextjs.org/) (as it is used elsewhere in the project), [Encore](https://encore.dev/) (because it has a good reputation for developer experience), [Fastify](https://fastify.dev/) and [Express](https://expressjs.com/) itself.\n\nHaving performed a few basic spikes to test the functionality and usability of each library with [Zod](https://zod.dev/), [TypeScript](https://www.typescriptlang.org/) and [OpenAPI](https://www.openapis.org/) document generation, both [Fastify](https://fastify.dev/) and [Encore](https://encore.dev/) performed above [NextJS](https://nextjs.org/) and [Express](https://expressjs.com/), but [Encore](https://encore.dev/) unfortunately takes too much responsibility for the resulting Docker image (no ability to edit the Dockerfile) for the service, which isn't a measure of control we're willing to give away.\n\n## Decision\n\nUsing principles for library adoption established in **ADR0005**, this is how we justify the decision.\n\n- [Fastify](https://fastify.dev/) reached v1 in October, 2018. Throughout the package's history, it has releases almost every month and has a consistent group of maintainers contributing to the project on a regular basis. The project is hosted by the OpenJS foundation and provides an LTS schedule on their website.\n- [Fastify](https://fastify.dev/) has fewer dependencies than [Express](https://expressjs.com/).\n\n## Consequences\n\n- Adopting [Fastify](https://fastify.dev/) will improve the developer experience for the API project, it will provide a web framework that is fast and well optimised and it will provide first class support within the API project for strong typing and accurate documentation.\n- Developers will need to learn a new web framework, which will incur an operational cost.\n- Developers will need to be able to work with [Zod](https://zod.dev/) in order to build new features on the API.\n",
      "date" : "2024-09-13T00:00:00Z",
      "format" : "Markdown",
      "id" : "6",
      "status" : "Accepted",
      "title" : "Use [Fastify](https://fastify.dev/) API framework"
    }, {
      "content" : "# 7. API Authentication and Authorisation Approach\n\nDate: 2024-10-21\n\n## Status\n\nAccepted\n\n## Context\n\nWe want the API to be secure, so we need Authentication and Authorisation. To maintain consistency throughout the\nservice, we will use the same tokens and secrets as the front end to verify the token and ensure it is correct.\n\nAlthough the primary use case is to handle requests coming from the UI made by end users, we also want to be able to\nhandle service requests, e.g.\n\n- Core creating records for exceptions and triggers\n- The resubmission service resubmitting PNC failures\n\n### Authentication and Authorisation\n\nThis is handled by the `Authorisation` header with a `Bearer` token. The bearer token will be validated to demonstrate\nthat the request is authenticated. When a service-to-service request is required and not on a user's behalf, we will\ngenerate a bearer token for that service.\n\nThe token is in the format of a [JWT](https://jwt.io/) and contains the user's or service information to verify what the\ntoken can and cannot do.\n\n## Consequences\n\n- A developer needs to understand:\n  - JWT and how they can be used\n  - The Bichard user permission model\n",
      "date" : "2024-10-21T00:00:00Z",
      "format" : "Markdown",
      "id" : "7",
      "status" : "Accepted",
      "title" : "API Authentication and Authorisation Approach"
    } ],
    "sections" : [ {
      "content" : "## Bichard\n\nWelcome to the microsite for the Bichard architecture and documentation.\n\nThe following diagram shows how Bichard fits in with high level view of MoJ.\n\n![System Landscape Diagram](embed:SystemLandscape)\n",
      "filename" : "001-index.md",
      "format" : "Markdown",
      "order" : 1,
      "title" : ""
    }, {
      "content" : "## Transitioning Bichard\n\n### \"Old\" Bichard\n\nBichard after the \"lift and shift\" into AWS. [Link to nice version of Old Bichard](/diagrams/OldBichard.png).\n\n![Old Bichard](embed:OldBichard)\n\n### Hybrid Bichard\n\nBichard in its current state. [Link to nice version of Hybrid Bichard](/diagrams/HybridBichard.png).\n![Old Bichard](embed:HybridBichard)\n",
      "filename" : "002-transitioning-bichard.md",
      "format" : "Markdown",
      "order" : 2,
      "title" : ""
    }, {
      "content" : "## Schemas\n\n- [Schema for Annotated Hearing Outcome](https://ministryofjustice.github.io/bichard7-next-core/schema/aho/index.html)\n- [Schema for SPI](https://ministryofjustice.github.io/bichard7-next-core/schema/spi/index.html)\n",
      "filename" : "003-schemas.md",
      "format" : "Markdown",
      "order" : 3,
      "title" : ""
    } ]
  },
  "id" : 0,
  "model" : {
    "people" : [ {
      "id" : "1",
      "location" : "Unspecified",
      "name" : "Police User",
      "properties" : {
        "structurizr.dsl.identifier" : "policeuser"
      },
      "relationships" : [ {
        "description" : "Uses",
        "destinationId" : "8",
        "id" : "55",
        "properties" : {
          "structurizr.dsl.identifier" : "2ebbe45b-fb85-4a16-aeb1-db8fe7327e35"
        },
        "sourceId" : "1",
        "tags" : "Relationship"
      }, {
        "description" : "Uses",
        "destinationId" : "4",
        "id" : "56",
        "properties" : {
          "structurizr.dsl.identifier" : "c009b3d6-8302-4ca5-9db7-ee1bb5707473"
        },
        "sourceId" : "1",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Person"
    } ],
    "softwareSystems" : [ {
      "documentation" : { },
      "group" : "HMCTS",
      "id" : "2",
      "location" : "Unspecified",
      "name" : "Common Platform",
      "properties" : {
        "structurizr.dsl.identifier" : "commonplatform"
      },
      "relationships" : [ {
        "description" : "Sends result of a court case",
        "destinationId" : "9",
        "id" : "58",
        "properties" : {
          "structurizr.dsl.identifier" : "8c113c70-e28d-4413-9aa8-2fb6d6d50980"
        },
        "sourceId" : "2",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Existing System"
    }, {
      "documentation" : { },
      "group" : "HMCTS",
      "id" : "3",
      "location" : "Unspecified",
      "name" : "Libra",
      "properties" : {
        "structurizr.dsl.identifier" : "libra"
      },
      "relationships" : [ {
        "description" : "Sends result of a court case",
        "destinationId" : "9",
        "id" : "59",
        "properties" : {
          "structurizr.dsl.identifier" : "b90e55a5-fcc5-48fe-be35-79bc6350111b"
        },
        "sourceId" : "3",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Existing System"
    }, {
      "documentation" : { },
      "group" : "Home Office - Police",
      "id" : "4",
      "location" : "Unspecified",
      "name" : "Police National Computer",
      "properties" : {
        "structurizr.dsl.identifier" : "pnc"
      },
      "tags" : "Element,Software System,Existing System"
    }, {
      "description" : "An instant messaging service used by Made Tech",
      "documentation" : { },
      "id" : "5",
      "location" : "Unspecified",
      "name" : "Slack",
      "properties" : {
        "structurizr.dsl.identifier" : "slack",
        "Url" : "https://slack.com/"
      },
      "tags" : "Element,Software System,External"
    }, {
      "description" : "An alert tool for instances when the systems trigger an alarm",
      "documentation" : { },
      "id" : "6",
      "location" : "Unspecified",
      "name" : "PagerDuty",
      "properties" : {
        "structurizr.dsl.identifier" : "pagerduty",
        "Url" : "https://www.pagerduty.com/"
      },
      "tags" : "Element,Software System,External"
    }, {
      "documentation" : { },
      "id" : "7",
      "location" : "Unspecified",
      "name" : "CJSM",
      "properties" : {
        "structurizr.dsl.identifier" : "cjsm"
      },
      "relationships" : [ {
        "description" : "Gets email",
        "destinationId" : "1",
        "id" : "57",
        "properties" : {
          "structurizr.dsl.identifier" : "9a0411be-3830-4352-b473-ac736f77ce7c"
        },
        "sourceId" : "7",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Existing System"
    }, {
      "description" : "Q-Solution",
      "documentation" : { },
      "group" : "CJSE",
      "id" : "8",
      "location" : "Unspecified",
      "name" : "PSN Proxy",
      "properties" : {
        "structurizr.dsl.identifier" : "qsolution"
      },
      "relationships" : [ {
        "description" : "Uses",
        "destinationId" : "4",
        "id" : "60",
        "properties" : {
          "structurizr.dsl.identifier" : "535d5d9a-41a4-4365-aeb5-c4511cc599ae"
        },
        "sourceId" : "8",
        "tags" : "Relationship"
      }, {
        "destinationId" : "4",
        "id" : "64",
        "properties" : {
          "structurizr.dsl.identifier" : "2e65edc5-f17a-42c9-b798-f3bbd2955ee4"
        },
        "sourceId" : "8",
        "tags" : "Relationship"
      }, {
        "destinationId" : "25",
        "id" : "65",
        "properties" : {
          "structurizr.dsl.identifier" : "6f181621-7740-42c3-84c1-7df76981714d"
        },
        "sourceId" : "8",
        "tags" : "Relationship"
      }, {
        "destinationId" : "10",
        "id" : "66",
        "linkedRelationshipId" : "65",
        "sourceId" : "8"
      } ],
      "tags" : "Element,Software System,Nginx,Existing System"
    }, {
      "documentation" : { },
      "group" : "CJSE",
      "id" : "9",
      "location" : "Unspecified",
      "name" : "ExISS",
      "properties" : {
        "structurizr.dsl.identifier" : "exiss"
      },
      "relationships" : [ {
        "destinationId" : "13",
        "id" : "75",
        "properties" : {
          "structurizr.dsl.identifier" : "09392978-9bba-4e78-a5e6-57fe4260d31c"
        },
        "sourceId" : "9",
        "tags" : "Relationship"
      }, {
        "destinationId" : "12",
        "id" : "76",
        "linkedRelationshipId" : "75",
        "sourceId" : "9"
      }, {
        "destinationId" : "10",
        "id" : "77",
        "linkedRelationshipId" : "75",
        "sourceId" : "9"
      } ],
      "tags" : "Element,Software System,Existing System"
    }, {
      "containers" : [ {
        "documentation" : { },
        "id" : "11",
        "name" : "Beanconnect",
        "properties" : {
          "structurizr.dsl.identifier" : "beanconnect"
        },
        "relationships" : [ {
          "destinationId" : "8",
          "id" : "62",
          "properties" : {
            "structurizr.dsl.identifier" : "dbeac4cf-841c-4a96-9f12-1a4a584114e5"
          },
          "sourceId" : "11",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container"
      }, {
        "components" : [ {
          "documentation" : { },
          "id" : "13",
          "name" : "External Incoming S3 bucket",
          "properties" : {
            "structurizr.dsl.identifier" : "incomings3bucket"
          },
          "relationships" : [ {
            "destinationId" : "14",
            "id" : "78",
            "properties" : {
              "structurizr.dsl.identifier" : "45d49f67-e1a9-45ae-90da-619651a6dc09"
            },
            "sourceId" : "13",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Queue"
        }, {
          "documentation" : { },
          "id" : "14",
          "name" : "Transfer lambda",
          "properties" : {
            "structurizr.dsl.identifier" : "transferprocess"
          },
          "relationships" : [ {
            "destinationId" : "16",
            "id" : "79",
            "properties" : {
              "structurizr.dsl.identifier" : "85644ad7-52a1-408f-991a-e3c61f17401b"
            },
            "sourceId" : "14",
            "tags" : "Relationship"
          }, {
            "destinationId" : "15",
            "id" : "80",
            "linkedRelationshipId" : "79",
            "sourceId" : "14"
          } ],
          "tags" : "Element,Component,Lambda"
        } ],
        "documentation" : { },
        "id" : "12",
        "name" : "Message Transfer Lambda",
        "properties" : {
          "structurizr.dsl.identifier" : "messagetransfer"
        },
        "relationships" : [ {
          "destinationId" : "16",
          "id" : "81",
          "linkedRelationshipId" : "79",
          "sourceId" : "12"
        }, {
          "destinationId" : "15",
          "id" : "82",
          "linkedRelationshipId" : "79",
          "sourceId" : "12"
        } ],
        "tags" : "Element,Container"
      }, {
        "components" : [ {
          "description" : "Blah blah",
          "documentation" : { },
          "id" : "16",
          "name" : "Internal Incoming S3 bucket",
          "properties" : {
            "structurizr.dsl.identifier" : "internalincomings3bucket"
          },
          "relationships" : [ {
            "destinationId" : "17",
            "id" : "83",
            "properties" : {
              "structurizr.dsl.identifier" : "a4d09b50-8fa9-4e99-b87f-d9221cfaf8fc"
            },
            "sourceId" : "16",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Queue"
        }, {
          "documentation" : { },
          "id" : "17",
          "name" : "Store Message",
          "properties" : {
            "structurizr.dsl.identifier" : "storemessage"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "84",
            "properties" : {
              "structurizr.dsl.identifier" : "cd72f763-18ce-4de9-bacc-008a47ab2b72"
            },
            "sourceId" : "17",
            "tags" : "Relationship"
          }, {
            "destinationId" : "18",
            "id" : "86",
            "properties" : {
              "structurizr.dsl.identifier" : "a808b5d5-f1c0-4408-b80e-4840f15c2356"
            },
            "sourceId" : "17",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "18",
          "name" : "Send to Bichard",
          "properties" : {
            "structurizr.dsl.identifier" : "sendtobichard"
          },
          "relationships" : [ {
            "destinationId" : "24",
            "id" : "87",
            "properties" : {
              "structurizr.dsl.identifier" : "7baf52a5-5117-471c-9bdb-29464b3885dc"
            },
            "sourceId" : "18",
            "tags" : "Relationship"
          }, {
            "destinationId" : "19",
            "id" : "89",
            "properties" : {
              "structurizr.dsl.identifier" : "24decb6f-a24d-4d55-91a3-00cafaddcf20"
            },
            "sourceId" : "18",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "19",
          "name" : "Record Sent to Bichard",
          "properties" : {
            "structurizr.dsl.identifier" : "recordsenttobichard"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "90",
            "properties" : {
              "structurizr.dsl.identifier" : "122094f4-47c4-4bcf-9d36-7ad8434e278d"
            },
            "sourceId" : "19",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        } ],
        "documentation" : { },
        "id" : "15",
        "name" : "Incoming Message Handler Step Function",
        "properties" : {
          "structurizr.dsl.identifier" : "incomingmessagehandler"
        },
        "relationships" : [ {
          "destinationId" : "30",
          "id" : "85",
          "linkedRelationshipId" : "84",
          "sourceId" : "15"
        }, {
          "destinationId" : "24",
          "id" : "88",
          "linkedRelationshipId" : "87",
          "sourceId" : "15"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "id" : "20",
        "name" : "Event Lambda",
        "properties" : {
          "structurizr.dsl.identifier" : "eventlambda"
        },
        "relationships" : [ {
          "destinationId" : "22",
          "id" : "92",
          "properties" : {
            "structurizr.dsl.identifier" : "43c24521-b341-4330-8ca0-3c0f3fdad7c1"
          },
          "sourceId" : "20",
          "tags" : "Relationship"
        }, {
          "destinationId" : "21",
          "id" : "93",
          "linkedRelationshipId" : "92",
          "sourceId" : "20"
        } ],
        "tags" : "Element,Container"
      }, {
        "components" : [ {
          "documentation" : { },
          "id" : "22",
          "name" : "Event S3 bucket",
          "properties" : {
            "structurizr.dsl.identifier" : "events3bucket"
          },
          "relationships" : [ {
            "destinationId" : "23",
            "id" : "94",
            "properties" : {
              "structurizr.dsl.identifier" : "8c6b2387-8265-415d-ad74-7f1975b32a46"
            },
            "sourceId" : "22",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Queue"
        }, {
          "documentation" : { },
          "id" : "23",
          "name" : "Write to Audit Log",
          "properties" : {
            "structurizr.dsl.identifier" : "writetoauditlog"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "95",
            "properties" : {
              "structurizr.dsl.identifier" : "2a3602c0-429d-42fc-9006-0ccc0d8a0d86"
            },
            "sourceId" : "23",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        } ],
        "documentation" : { },
        "id" : "21",
        "name" : "Event Handler Step Function",
        "properties" : {
          "structurizr.dsl.identifier" : "eventhandler"
        },
        "relationships" : [ {
          "destinationId" : "30",
          "id" : "96",
          "linkedRelationshipId" : "95",
          "sourceId" : "21"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "id" : "24",
        "name" : "Active MQ",
        "properties" : {
          "structurizr.dsl.identifier" : "activemq"
        },
        "relationships" : [ {
          "destinationId" : "20",
          "id" : "91",
          "properties" : {
            "structurizr.dsl.identifier" : "d6eab135-4756-40d2-b189-8aa3dd11b01d"
          },
          "sourceId" : "24",
          "tags" : "Relationship"
        }, {
          "destinationId" : "28",
          "id" : "97",
          "properties" : {
            "structurizr.dsl.identifier" : "63bebdcd-cba1-4007-8f15-1d97ace38fc2"
          },
          "sourceId" : "24",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container",
        "technology" : "Active MQ"
      }, {
        "documentation" : { },
        "id" : "25",
        "name" : "Nginx Auth Proxy",
        "properties" : {
          "structurizr.dsl.identifier" : "nginxauthproxy",
          "Url" : "https://github.com/ministryofjustice/bichard7-next-infrastructure-docker-images/tree/main/Nginx_Auth_Proxy"
        },
        "relationships" : [ {
          "destinationId" : "28",
          "id" : "70",
          "properties" : {
            "structurizr.dsl.identifier" : "807e8bda-6eda-48ea-95e1-de49632a3342"
          },
          "sourceId" : "25",
          "tags" : "Relationship"
        }, {
          "description" : "Uses",
          "destinationId" : "29",
          "id" : "71",
          "properties" : {
            "structurizr.dsl.identifier" : "26f7ecb2-4c73-4d04-b570-1eff8c0b9eaa"
          },
          "sourceId" : "25",
          "tags" : "Relationship"
        }, {
          "destinationId" : "34",
          "id" : "72",
          "properties" : {
            "structurizr.dsl.identifier" : "5f8a9589-5299-41ed-9544-29f3863e572a"
          },
          "sourceId" : "25",
          "tags" : "Relationship"
        }, {
          "destinationId" : "52",
          "id" : "135",
          "properties" : {
            "structurizr.dsl.identifier" : "e68a8c31-de41-4e7b-b466-9a212b111f2f"
          },
          "sourceId" : "25",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container",
        "technology" : "Nginx"
      }, {
        "documentation" : { },
        "id" : "26",
        "name" : "Bichard Database",
        "properties" : {
          "structurizr.dsl.identifier" : "database"
        },
        "tags" : "Element,Container,Database,Existing System",
        "technology" : "PostgreSQL"
      }, {
        "documentation" : { },
        "id" : "27",
        "name" : "Email System",
        "properties" : {
          "structurizr.dsl.identifier" : "emailsystem",
          "Url" : "https://github.com/ministryofjustice/bichard7-next-infrastructure-docker-images/tree/main/Postfix"
        },
        "relationships" : [ {
          "description" : "Sends verification code",
          "destinationId" : "7",
          "id" : "67",
          "properties" : {
            "structurizr.dsl.identifier" : "215f4552-21e6-4e1d-b4a4-80f6ffcb4903"
          },
          "sourceId" : "27",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container",
        "technology" : "Postfix"
      }, {
        "documentation" : { },
        "id" : "28",
        "name" : "Bichard Java Application",
        "properties" : {
          "structurizr.dsl.identifier" : "bichardjavaapplication"
        },
        "relationships" : [ {
          "destinationId" : "11",
          "id" : "61",
          "properties" : {
            "structurizr.dsl.identifier" : "da36195d-3d12-4a12-af76-0654e5ea112b"
          },
          "sourceId" : "28",
          "tags" : "Relationship"
        }, {
          "description" : "Reads from / Writes to",
          "destinationId" : "26",
          "id" : "74",
          "properties" : {
            "structurizr.dsl.identifier" : "15a54be9-5902-4d79-aee8-d617918bb4ab"
          },
          "sourceId" : "28",
          "tags" : "Relationship"
        }, {
          "destinationId" : "24",
          "id" : "98",
          "properties" : {
            "structurizr.dsl.identifier" : "73134756-662e-4acb-a6d9-966238ab68a0"
          },
          "sourceId" : "28",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container,Existing System",
        "technology" : "Java EE"
      }, {
        "description" : "An application to provide user authentication and user management",
        "documentation" : { },
        "id" : "29",
        "name" : "Bichard User Service",
        "properties" : {
          "structurizr.dsl.identifier" : "bicharduserservice",
          "Url" : "https://github.com/ministryofjustice/bichard7-next-user-service"
        },
        "relationships" : [ {
          "description" : "Sends verification code",
          "destinationId" : "27",
          "id" : "69",
          "properties" : {
            "structurizr.dsl.identifier" : "61f2f1dc-4eae-4c88-8898-3269e2f6c332"
          },
          "sourceId" : "29",
          "tags" : "Relationship"
        }, {
          "description" : "Reads from / Writes to",
          "destinationId" : "26",
          "id" : "73",
          "properties" : {
            "structurizr.dsl.identifier" : "88daa79a-d0ca-4c51-8a9c-9758543f5790"
          },
          "sourceId" : "29",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container,API",
        "technology" : "Next.js, TypeScript & React"
      }, {
        "components" : [ {
          "documentation" : { },
          "id" : "31",
          "name" : "Audit Log API Gateway",
          "properties" : {
            "structurizr.dsl.identifier" : "auditlogapigateway"
          },
          "relationships" : [ {
            "destinationId" : "32",
            "id" : "99",
            "properties" : {
              "structurizr.dsl.identifier" : "01b6c15d-7a9d-40ea-82ba-98e4062deb37"
            },
            "sourceId" : "31",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "32",
          "name" : "Audit Log API Lambda",
          "properties" : {
            "structurizr.dsl.identifier" : "auditlogapilambda"
          },
          "relationships" : [ {
            "destinationId" : "33",
            "id" : "100",
            "properties" : {
              "structurizr.dsl.identifier" : "83d42a96-986e-442a-9d97-c67559a2a483"
            },
            "sourceId" : "32",
            "tags" : "Relationship"
          }, {
            "destinationId" : "26",
            "id" : "101",
            "properties" : {
              "structurizr.dsl.identifier" : "71818359-5d49-42a6-b62b-b2109345da44"
            },
            "sourceId" : "32",
            "tags" : "Relationship"
          }, {
            "destinationId" : "24",
            "id" : "103",
            "properties" : {
              "structurizr.dsl.identifier" : "253347ed-6b5c-4d72-9857-bae598b367d3"
            },
            "sourceId" : "32",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "33",
          "name" : "DynamoDB",
          "properties" : {
            "structurizr.dsl.identifier" : "dynamodb"
          },
          "tags" : "Element,Component",
          "technology" : "DynamoDB"
        } ],
        "documentation" : { },
        "id" : "30",
        "name" : "Audit Log",
        "properties" : {
          "structurizr.dsl.identifier" : "auditlogapi"
        },
        "relationships" : [ {
          "destinationId" : "26",
          "id" : "102",
          "linkedRelationshipId" : "101",
          "sourceId" : "30"
        }, {
          "destinationId" : "24",
          "id" : "104",
          "linkedRelationshipId" : "103",
          "sourceId" : "30"
        } ],
        "tags" : "Element,Container,API"
      }, {
        "documentation" : { },
        "id" : "34",
        "name" : "Static File Service",
        "properties" : {
          "structurizr.dsl.identifier" : "staticfileservice"
        },
        "tags" : "Element,Container"
      }, {
        "components" : [ {
          "documentation" : { },
          "id" : "36",
          "name" : "Automation Report",
          "properties" : {
            "structurizr.dsl.identifier" : "automationreport"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "105",
            "properties" : {
              "structurizr.dsl.identifier" : "aafa35d9-8d4f-464e-bebe-caf2aa51d7f4"
            },
            "sourceId" : "36",
            "tags" : "Relationship"
          }, {
            "destinationId" : "34",
            "id" : "108",
            "properties" : {
              "structurizr.dsl.identifier" : "4d171f19-ed16-4071-802b-83f58aab214b"
            },
            "sourceId" : "36",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "37",
          "name" : "Common Platform Report",
          "properties" : {
            "structurizr.dsl.identifier" : "commonplatformreport"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "107",
            "properties" : {
              "structurizr.dsl.identifier" : "f3224f49-b22f-47ec-a0b4-8d81568ebbc2"
            },
            "sourceId" : "37",
            "tags" : "Relationship"
          }, {
            "destinationId" : "27",
            "id" : "111",
            "properties" : {
              "structurizr.dsl.identifier" : "7b1d6d42-546e-46d8-a71a-7155f6657e0d"
            },
            "sourceId" : "37",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "38",
          "name" : "MPS Report",
          "properties" : {
            "structurizr.dsl.identifier" : "mpsreport"
          },
          "relationships" : [ {
            "destinationId" : "26",
            "id" : "113",
            "properties" : {
              "structurizr.dsl.identifier" : "81fb975f-3ddc-4bc7-a537-330146357e0f"
            },
            "sourceId" : "38",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "39",
          "name" : "Top Exceptions Report",
          "properties" : {
            "structurizr.dsl.identifier" : "topexceptionsreport"
          },
          "relationships" : [ {
            "destinationId" : "34",
            "id" : "110",
            "properties" : {
              "structurizr.dsl.identifier" : "c8356685-0186-4b0f-a47c-cdbdde46267e"
            },
            "sourceId" : "39",
            "tags" : "Relationship"
          }, {
            "destinationId" : "30",
            "id" : "115",
            "properties" : {
              "structurizr.dsl.identifier" : "f27e2d43-8a24-491f-898c-f15abb6cc207"
            },
            "sourceId" : "39",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,Lambda"
        } ],
        "documentation" : { },
        "id" : "35",
        "name" : "Reporting",
        "properties" : {
          "structurizr.dsl.identifier" : "reportingservice"
        },
        "relationships" : [ {
          "destinationId" : "30",
          "id" : "106",
          "linkedRelationshipId" : "105",
          "sourceId" : "35"
        }, {
          "destinationId" : "34",
          "id" : "109",
          "linkedRelationshipId" : "108",
          "sourceId" : "35"
        }, {
          "destinationId" : "27",
          "id" : "112",
          "linkedRelationshipId" : "111",
          "sourceId" : "35"
        }, {
          "destinationId" : "26",
          "id" : "114",
          "linkedRelationshipId" : "113",
          "sourceId" : "35"
        } ],
        "tags" : "Element,Container"
      }, {
        "components" : [ {
          "documentation" : { },
          "id" : "41",
          "name" : "OpenSearch",
          "properties" : {
            "structurizr.dsl.identifier" : "opensearch"
          },
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "42",
          "name" : "Prometheus",
          "properties" : {
            "structurizr.dsl.identifier" : "prometheus"
          },
          "relationships" : [ {
            "destinationId" : "50",
            "id" : "123",
            "properties" : {
              "structurizr.dsl.identifier" : "aea35add-2856-42eb-babb-daf36c352f4b"
            },
            "sourceId" : "42",
            "tags" : "Relationship"
          }, {
            "destinationId" : "45",
            "id" : "125",
            "properties" : {
              "structurizr.dsl.identifier" : "f6de2645-0b85-41e4-9da5-7f02c5e0bea4"
            },
            "sourceId" : "42",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "43",
          "name" : "Prometheus CloudWatch Exporter",
          "properties" : {
            "structurizr.dsl.identifier" : "prometheuscloudwatchexporter"
          },
          "relationships" : [ {
            "destinationId" : "42",
            "id" : "121",
            "properties" : {
              "structurizr.dsl.identifier" : "213db5e2-21fb-4efe-a75d-2010b6cdbe7f"
            },
            "sourceId" : "43",
            "tags" : "Relationship"
          }, {
            "destinationId" : "48",
            "id" : "122",
            "properties" : {
              "structurizr.dsl.identifier" : "25047003-46b9-4cbe-9daf-cc1844e6b916"
            },
            "sourceId" : "43",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "44",
          "name" : "Prometheus Black Box Exporter",
          "properties" : {
            "structurizr.dsl.identifier" : "prometheusblackboxexporter"
          },
          "relationships" : [ {
            "destinationId" : "42",
            "id" : "116",
            "properties" : {
              "structurizr.dsl.identifier" : "fb8ce0ba-46ba-436a-8509-89dd9dfa5e95"
            },
            "sourceId" : "44",
            "tags" : "Relationship"
          }, {
            "destinationId" : "28",
            "id" : "117",
            "properties" : {
              "structurizr.dsl.identifier" : "240d13b0-5902-4335-b051-dd879a9926bc"
            },
            "sourceId" : "44",
            "tags" : "Relationship"
          }, {
            "destinationId" : "45",
            "id" : "119",
            "properties" : {
              "structurizr.dsl.identifier" : "9eaee22a-6624-4305-8244-3f9b23220331"
            },
            "sourceId" : "44",
            "tags" : "Relationship"
          }, {
            "destinationId" : "41",
            "id" : "120",
            "properties" : {
              "structurizr.dsl.identifier" : "cfff6b06-49ca-4164-b886-9390f81d7a69"
            },
            "sourceId" : "44",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "45",
          "name" : "Grafana",
          "properties" : {
            "structurizr.dsl.identifier" : "grafana"
          },
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "46",
          "name" : "LogStash",
          "properties" : {
            "structurizr.dsl.identifier" : "logstash"
          },
          "relationships" : [ {
            "destinationId" : "41",
            "id" : "126",
            "properties" : {
              "structurizr.dsl.identifier" : "90889440-9290-4f41-9690-3f8f64616016"
            },
            "sourceId" : "46",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "description" : "Logs gathered from all AWS services",
          "documentation" : { },
          "id" : "47",
          "name" : "CloudWatch Logs",
          "properties" : {
            "structurizr.dsl.identifier" : "cloudwatchlogs"
          },
          "relationships" : [ {
            "destinationId" : "46",
            "id" : "127",
            "properties" : {
              "structurizr.dsl.identifier" : "17f80a38-c655-413e-9563-5f34aa5a2dde"
            },
            "sourceId" : "47",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "48",
          "name" : "CloudWatch Metrics",
          "properties" : {
            "structurizr.dsl.identifier" : "cloudwatchmetrics"
          },
          "relationships" : [ {
            "destinationId" : "50",
            "id" : "124",
            "properties" : {
              "structurizr.dsl.identifier" : "bcaa4931-33b4-45cc-a2db-46968afea339"
            },
            "sourceId" : "48",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component"
        }, {
          "documentation" : { },
          "id" : "49",
          "name" : "Slack message handler",
          "properties" : {
            "structurizr.dsl.identifier" : "slacklambda"
          },
          "relationships" : [ {
            "description" : "Sends message",
            "destinationId" : "5",
            "id" : "132",
            "properties" : {
              "structurizr.dsl.identifier" : "aee54e41-a32f-4cae-9ea6-40a7d3efc937"
            },
            "sourceId" : "49",
            "tags" : "Relationship",
            "technology" : "via TLS Webhook"
          } ],
          "tags" : "Element,Component,Lambda"
        }, {
          "documentation" : { },
          "id" : "50",
          "name" : "SNS",
          "properties" : {
            "structurizr.dsl.identifier" : "sns"
          },
          "relationships" : [ {
            "description" : "Sends message",
            "destinationId" : "6",
            "id" : "128",
            "properties" : {
              "structurizr.dsl.identifier" : "64da6f5c-ba4e-4d38-9027-4b378e114265"
            },
            "sourceId" : "50",
            "tags" : "Relationship"
          }, {
            "description" : "Sends message",
            "destinationId" : "49",
            "id" : "131",
            "properties" : {
              "structurizr.dsl.identifier" : "f8cfdde4-b96a-40f0-b22e-d2a4fe83b0c9"
            },
            "sourceId" : "50",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component,SNS"
        } ],
        "documentation" : { },
        "id" : "40",
        "name" : "Monitoring",
        "properties" : {
          "structurizr.dsl.identifier" : "monitoring"
        },
        "relationships" : [ {
          "destinationId" : "28",
          "id" : "118",
          "linkedRelationshipId" : "117",
          "sourceId" : "40"
        }, {
          "description" : "Sends message",
          "destinationId" : "6",
          "id" : "129",
          "linkedRelationshipId" : "128",
          "sourceId" : "40"
        }, {
          "description" : "Sends message",
          "destinationId" : "5",
          "id" : "133",
          "linkedRelationshipId" : "132",
          "sourceId" : "40",
          "technology" : "via TLS Webhook"
        } ],
        "tags" : "Element,Container"
      }, {
        "documentation" : { },
        "id" : "51",
        "name" : "PNC API",
        "properties" : {
          "structurizr.dsl.identifier" : "pncapi"
        },
        "relationships" : [ {
          "destinationId" : "11",
          "id" : "143",
          "properties" : {
            "structurizr.dsl.identifier" : "edfcf461-fa01-4496-965b-be9c4c6c2bc2"
          },
          "sourceId" : "51",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container,API"
      }, {
        "description" : "A new way of interacting with Bichard, complying with Gov.uk standards",
        "documentation" : { },
        "id" : "52",
        "name" : "Bichard UI",
        "properties" : {
          "structurizr.dsl.identifier" : "bichardui",
          "Url" : "https://github.com/ministryofjustice/bichard7-next-ui"
        },
        "relationships" : [ {
          "destinationId" : "26",
          "id" : "136",
          "properties" : {
            "structurizr.dsl.identifier" : "d1319817-25c5-4642-82b3-5212fb90239b"
          },
          "sourceId" : "52",
          "tags" : "Relationship"
        } ],
        "tags" : "Element,Container,Web Browser",
        "technology" : "TypeScript & React"
      }, {
        "components" : [ {
          "description" : "The code to replace the processing logic of Bichard7",
          "documentation" : { },
          "id" : "54",
          "name" : "Bichard Next Core",
          "properties" : {
            "structurizr.dsl.identifier" : "bichardnextcore",
            "Url" : "https://github.com/ministryofjustice/bichard7-next-core"
          },
          "relationships" : [ {
            "destinationId" : "30",
            "id" : "137",
            "properties" : {
              "structurizr.dsl.identifier" : "841e46b8-b6b2-4d50-b2b9-5030b38e4a2d"
            },
            "sourceId" : "54",
            "tags" : "Relationship"
          }, {
            "description" : "Reads from and writes to",
            "destinationId" : "26",
            "id" : "139",
            "properties" : {
              "structurizr.dsl.identifier" : "1c82ec85-5b71-44ce-b0bf-657b980f151a"
            },
            "sourceId" : "54",
            "tags" : "Relationship"
          }, {
            "destinationId" : "51",
            "id" : "141",
            "properties" : {
              "structurizr.dsl.identifier" : "b65f9f31-0276-4a2a-b441-2d46dd3dbbde"
            },
            "sourceId" : "54",
            "tags" : "Relationship"
          } ],
          "tags" : "Element,Component",
          "technology" : "Next.js, TypeScript"
        } ],
        "documentation" : { },
        "id" : "53",
        "name" : "Conductor",
        "properties" : {
          "structurizr.dsl.identifier" : "conductor"
        },
        "relationships" : [ {
          "destinationId" : "30",
          "id" : "138",
          "linkedRelationshipId" : "137",
          "sourceId" : "53"
        }, {
          "description" : "Reads from and writes to",
          "destinationId" : "26",
          "id" : "140",
          "linkedRelationshipId" : "139",
          "sourceId" : "53"
        }, {
          "destinationId" : "51",
          "id" : "142",
          "linkedRelationshipId" : "141",
          "sourceId" : "53"
        } ],
        "tags" : "Element,Container"
      } ],
      "documentation" : { },
      "group" : "CJSE",
      "id" : "10",
      "location" : "Unspecified",
      "name" : "Bichard",
      "properties" : {
        "structurizr.dsl.identifier" : "bichard"
      },
      "relationships" : [ {
        "destinationId" : "8",
        "id" : "63",
        "linkedRelationshipId" : "62",
        "sourceId" : "10"
      }, {
        "description" : "Sends verification code",
        "destinationId" : "7",
        "id" : "68",
        "linkedRelationshipId" : "67",
        "sourceId" : "10"
      }, {
        "description" : "Sends message",
        "destinationId" : "6",
        "id" : "130",
        "linkedRelationshipId" : "128",
        "sourceId" : "10"
      }, {
        "description" : "Sends message",
        "destinationId" : "5",
        "id" : "134",
        "linkedRelationshipId" : "132",
        "sourceId" : "10",
        "technology" : "via TLS Webhook"
      } ],
      "tags" : "Element,Software System"
    } ]
  },
  "name" : "Bichard",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlICJCaWNoYXJkIiB7CiAgIWRvY3MgZG9jcwogICFhZHJzIGFkcnMKCiAgbW9kZWwgewogICAgcG9saWNlVXNlciA9IHBlcnNvbiAiUG9saWNlIFVzZXIiCgogICAgZ3JvdXAgIkhNQ1RTIiB7CiAgICAgIGNvbW1vblBsYXRmb3JtID0gc29mdHdhcmVTeXN0ZW0gIkNvbW1vbiBQbGF0Zm9ybSIgewogICAgICAgIHRhZ3MgIkV4aXN0aW5nIFN5c3RlbSIKICAgICAgfQogICAgICBsaWJyYSA9IHNvZnR3YXJlU3lzdGVtICJMaWJyYSIgewogICAgICAgIHRhZ3MgIkV4aXN0aW5nIFN5c3RlbSIKICAgICAgfQogICAgfQogICAgZ3JvdXAgIkhvbWUgT2ZmaWNlIC0gUG9saWNlIiB7CiAgICAgIHBuYyA9IHNvZnR3YXJlU3lzdGVtICJQb2xpY2UgTmF0aW9uYWwgQ29tcHV0ZXIiIHsKICAgICAgICB0YWdzICJFeGlzdGluZyBTeXN0ZW0iCiAgICAgIH0KICAgIH0KICAgIHNsYWNrID0gc29mdHdhcmVTeXN0ZW0gIlNsYWNrIiAiQW4gaW5zdGFudCBtZXNzYWdpbmcgc2VydmljZSB1c2VkIGJ5IE1hZGUgVGVjaCIgewogICAgICB1cmwgImh0dHBzOi8vc2xhY2suY29tLyIKICAgICAgdGFncyAiRXh0ZXJuYWwiCiAgICB9CiAgICAKICAgIHBhZ2VyRHV0eSA9IHNvZnR3YXJlU3lzdGVtICJQYWdlckR1dHkiICJBbiBhbGVydCB0b29sIGZvciBpbnN0YW5jZXMgd2hlbiB0aGUgc3lzdGVtcyB0cmlnZ2VyIGFuIGFsYXJtIiB7CiAgICAgIHVybCAiaHR0cHM6Ly93d3cucGFnZXJkdXR5LmNvbS8iCiAgICAgIHRhZ3MgIkV4dGVybmFsIgogICAgfQoKICAgIGNqc20gPSBzb2Z0d2FyZVN5c3RlbSAiQ0pTTSIgewogICAgICB0YWdzICJFeGlzdGluZyBTeXN0ZW0iCiAgICB9CgogICAgZ3JvdXAgIkNKU0UiIHsKICAgICAgcXNvbHV0aW9uID0gc29mdHdhcmVTeXN0ZW0gIlBTTiBQcm94eSIgIlEtU29sdXRpb24iICJOZ2lueCIgewogICAgICAgIHRhZ3MgIkV4aXN0aW5nIFN5c3RlbSIKICAgICAgfQoKICAgICAgZXhpc3MgPSBzb2Z0d2FyZVN5c3RlbSAiRXhJU1MiIHsKICAgICAgICB0YWdzICJFeGlzdGluZyBTeXN0ZW0iCiAgICAgIH0KCiAgICAgIGJpY2hhcmQgPSBzb2Z0d2FyZVN5c3RlbSAiQmljaGFyZCIgewogICAgICAgIGJlYW5jb25uZWN0ID0gY29udGFpbmVyICJCZWFuY29ubmVjdCIKCiAgICAgICAgbWVzc2FnZVRyYW5zZmVyID0gY29udGFpbmVyICJNZXNzYWdlIFRyYW5zZmVyIExhbWJkYSIgewogICAgICAgICAgaW5jb21pbmdTM0J1Y2tldCA9IGNvbXBvbmVudCAiRXh0ZXJuYWwgSW5jb21pbmcgUzMgYnVja2V0IiB7CiAgICAgICAgICAgIHRhZ3MgIlF1ZXVlIgogICAgICAgICAgfQoKICAgICAgICAgIHRyYW5zZmVyUHJvY2VzcyA9IGNvbXBvbmVudCAiVHJhbnNmZXIgbGFtYmRhIiB7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGluY29taW5nTWVzc2FnZUhhbmRsZXIgPSBjb250YWluZXIgIkluY29taW5nIE1lc3NhZ2UgSGFuZGxlciBTdGVwIEZ1bmN0aW9uIiB7CiAgICAgICAgICBpbnRlcm5hbEluY29taW5nUzNCdWNrZXQgPSBjb21wb25lbnQgIkludGVybmFsIEluY29taW5nIFMzIGJ1Y2tldCIgIkJsYWggYmxhaCIgewogICAgICAgICAgICB0YWdzICJRdWV1ZSIKICAgICAgICAgIH0KCiAgICAgICAgICBzdG9yZU1lc3NhZ2UgPSBjb21wb25lbnQgIlN0b3JlIE1lc3NhZ2UiIHsKICAgICAgICAgICAgdGFncyAiTGFtYmRhIgogICAgICAgICAgfQoKICAgICAgICAgIHNlbmRUb0JpY2hhcmQgPSBjb21wb25lbnQgIlNlbmQgdG8gQmljaGFyZCIgewogICAgICAgICAgICB0YWdzICJMYW1iZGEiCiAgICAgICAgICB9CgogICAgICAgICAgcmVjb3JkU2VudFRvQmljaGFyZCA9IGNvbXBvbmVudCAiUmVjb3JkIFNlbnQgdG8gQmljaGFyZCIgewogICAgICAgICAgICB0YWdzICJMYW1iZGEiCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBldmVudExhbWJkYSA9IGNvbnRhaW5lciAiRXZlbnQgTGFtYmRhIgoKICAgICAgICBldmVudEhhbmRsZXIgPSBjb250YWluZXIgIkV2ZW50IEhhbmRsZXIgU3RlcCBGdW5jdGlvbiIgewogICAgICAgICAgZXZlbnRTM0J1Y2tldCA9IGNvbXBvbmVudCAiRXZlbnQgUzMgYnVja2V0IiB7CiAgICAgICAgICAgIHRhZ3MgIlF1ZXVlIgogICAgICAgICAgfQoKICAgICAgICAgIHdyaXRlVG9BdWRpdExvZyA9IGNvbXBvbmVudCAiV3JpdGUgdG8gQXVkaXQgTG9nIiB7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFjdGl2ZU1RID0gY29udGFpbmVyICJBY3RpdmUgTVEiICIiICJBY3RpdmUgTVEiCgogICAgICAgIG5naW54QXV0aFByb3h5ID0gY29udGFpbmVyICJOZ2lueCBBdXRoIFByb3h5IiAiIiAiTmdpbngiIHsKICAgICAgICAgIHVybCAiaHR0cHM6Ly9naXRodWIuY29tL21pbmlzdHJ5b2ZqdXN0aWNlL2JpY2hhcmQ3LW5leHQtaW5mcmFzdHJ1Y3R1cmUtZG9ja2VyLWltYWdlcy90cmVlL21haW4vTmdpbnhfQXV0aF9Qcm94eSIKICAgICAgICB9CgogICAgICAgIGRhdGFiYXNlID0gY29udGFpbmVyICJCaWNoYXJkIERhdGFiYXNlIiAiIiAiUG9zdGdyZVNRTCIgIkRhdGFiYXNlIiB7CiAgICAgICAgICB0YWdzICJFeGlzdGluZyBTeXN0ZW0iCiAgICAgICAgfQoKICAgICAgICBlbWFpbFN5c3RlbSA9IGNvbnRhaW5lciAiRW1haWwgU3lzdGVtIiAiIiAiUG9zdGZpeCIgewogICAgICAgICAgdXJsICJodHRwczovL2dpdGh1Yi5jb20vbWluaXN0cnlvZmp1c3RpY2UvYmljaGFyZDctbmV4dC1pbmZyYXN0cnVjdHVyZS1kb2NrZXItaW1hZ2VzL3RyZWUvbWFpbi9Qb3N0Zml4IgogICAgICAgIH0KCiAgICAgICAgYmljaGFyZEphdmFBcHBsaWNhdGlvbiA9IGNvbnRhaW5lciAiQmljaGFyZCBKYXZhIEFwcGxpY2F0aW9uIiAiIiAiSmF2YSBFRSJ7CiAgICAgICAgICB0YWdzICJFeGlzdGluZyBTeXN0ZW0iCiAgICAgICAgfQoKICAgICAgICBiaWNoYXJkVXNlclNlcnZpY2UgPSBjb250YWluZXIgIkJpY2hhcmQgVXNlciBTZXJ2aWNlIiAiQW4gYXBwbGljYXRpb24gdG8gcHJvdmlkZSB1c2VyIGF1dGhlbnRpY2F0aW9uIGFuZCB1c2VyIG1hbmFnZW1lbnQiICJOZXh0LmpzLCBUeXBlU2NyaXB0ICYgUmVhY3QiIHsKICAgICAgICAgIHVybCAiaHR0cHM6Ly9naXRodWIuY29tL21pbmlzdHJ5b2ZqdXN0aWNlL2JpY2hhcmQ3LW5leHQtdXNlci1zZXJ2aWNlIgogICAgICAgICAgdGFncyAiQVBJIgogICAgICAgIH0KCiAgICAgICAgYXVkaXRMb2dBcGkgPSBjb250YWluZXIgIkF1ZGl0IExvZyIgewogICAgICAgICAgdGFncyAiQVBJIgoKICAgICAgICAgIGF1ZGl0TG9nQXBpR2F0ZXdheSA9IGNvbXBvbmVudCAiQXVkaXQgTG9nIEFQSSBHYXRld2F5IgogICAgICAgICAgYXVkaXRMb2dBcGlMYW1iZGEgPSBjb21wb25lbnQgIkF1ZGl0IExvZyBBUEkgTGFtYmRhIgogICAgICAgICAgZHluYW1vREIgPSBjb21wb25lbnQgIkR5bmFtb0RCIiAiIiAiRHluYW1vREIiCiAgICAgICAgfQoKICAgICAgICBzdGF0aWNGaWxlU2VydmljZSA9IGNvbnRhaW5lciAiU3RhdGljIEZpbGUgU2VydmljZSIKCiAgICAgICAgcmVwb3J0aW5nU2VydmljZSA9IGNvbnRhaW5lciAiUmVwb3J0aW5nIiB7CiAgICAgICAgICBhdXRvbWF0aW9uUmVwb3J0ID0gY29tcG9uZW50ICJBdXRvbWF0aW9uIFJlcG9ydCIgewogICAgICAgICAgICB0YWdzICJMYW1iZGEiCiAgICAgICAgICB9CiAgICAgICAgICBjb21tb25QbGF0Zm9ybVJlcG9ydCA9IGNvbXBvbmVudCAiQ29tbW9uIFBsYXRmb3JtIFJlcG9ydCJ7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICAgIE1QU1JlcG9ydCA9IGNvbXBvbmVudCAiTVBTIFJlcG9ydCJ7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICAgIHRvcEV4Y2VwdGlvbnNSZXBvcnQgPSBjb21wb25lbnQgIlRvcCBFeGNlcHRpb25zIFJlcG9ydCJ7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIG1vbml0b3JpbmcgPSBjb250YWluZXIgIk1vbml0b3JpbmciIHsKICAgICAgICAgIG9wZW5TZWFyY2ggPSBjb21wb25lbnQgIk9wZW5TZWFyY2giCiAgICAgICAgICBwcm9tZXRoZXVzID0gY29tcG9uZW50ICJQcm9tZXRoZXVzIgogICAgICAgICAgcHJvbWV0aGV1c0Nsb3VkV2F0Y2hFeHBvcnRlciA9IGNvbXBvbmVudCAiUHJvbWV0aGV1cyBDbG91ZFdhdGNoIEV4cG9ydGVyIgogICAgICAgICAgcHJvbWV0aGV1c0JsYWNrQm94RXhwb3J0ZXIgPSBjb21wb25lbnQgIlByb21ldGhldXMgQmxhY2sgQm94IEV4cG9ydGVyIgogICAgICAgICAgZ3JhZmFuYSA9IGNvbXBvbmVudCAiR3JhZmFuYSIKICAgICAgICAgIGxvZ1N0YXNoID0gY29tcG9uZW50ICJMb2dTdGFzaCIKICAgICAgICAgIGNsb3VkV2F0Y2hMb2dzID0gY29tcG9uZW50ICJDbG91ZFdhdGNoIExvZ3MiICJMb2dzIGdhdGhlcmVkIGZyb20gYWxsIEFXUyBzZXJ2aWNlcyIKICAgICAgICAgIGNsb3VkV2F0Y2hNZXRyaWNzID0gY29tcG9uZW50ICJDbG91ZFdhdGNoIE1ldHJpY3MiCiAgICAgICAgICBzbGFja0xhbWJkYSA9IGNvbXBvbmVudCAiU2xhY2sgbWVzc2FnZSBoYW5kbGVyIiB7CiAgICAgICAgICAgIHRhZ3MgIkxhbWJkYSIKICAgICAgICAgIH0KICAgICAgICAgIHNucyA9IGNvbXBvbmVudCAiU05TIiB7CiAgICAgICAgICAgIHRhZ3MgIlNOUyIKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMjIyMjIyMgSHlicmlkCiAgICAgICAgcG5jQXBpID0gY29udGFpbmVyICJQTkMgQVBJIiB7CiAgICAgICAgICB0YWdzICJBUEkiCiAgICAgICAgfQoKICAgICAgICBiaWNoYXJkVUkgPSBjb250YWluZXIgIkJpY2hhcmQgVUkiICJBIG5ldyB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBCaWNoYXJkLCBjb21wbHlpbmcgd2l0aCBHb3YudWsgc3RhbmRhcmRzIiAiVHlwZVNjcmlwdCAmIFJlYWN0IiAiV2ViIEJyb3dzZXIiIHsKICAgICAgICAgIHVybCAiaHR0cHM6Ly9naXRodWIuY29tL21pbmlzdHJ5b2ZqdXN0aWNlL2JpY2hhcmQ3LW5leHQtdWkiCiAgICAgICAgICB0YWdzICJXZWIgQnJvd3NlciIKICAgICAgICB9CgogICAgICAgIGNvbmR1Y3RvciA9IGNvbnRhaW5lciAiQ29uZHVjdG9yIiB7CiAgICAgICAgICBiaWNoYXJkTmV4dENvcmUgPSBjb21wb25lbnQgIkJpY2hhcmQgTmV4dCBDb3JlIiAiVGhlIGNvZGUgdG8gcmVwbGFjZSB0aGUgcHJvY2Vzc2luZyBsb2dpYyBvZiBCaWNoYXJkNyIgIk5leHQuanMsIFR5cGVTY3JpcHQiIHsKICAgICAgICAgICAgdXJsICJodHRwczovL2dpdGh1Yi5jb20vbWluaXN0cnlvZmp1c3RpY2UvYmljaGFyZDctbmV4dC1jb3JlIgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgICMgUmVsYXRpb25zaGlwcyBiZXR3ZWVuIHBlb3BsZSBhbmQgc29mdHdhcmUgc3lzdGVtcwogICAgcG9saWNlVXNlciAtPiBxc29sdXRpb24gIlVzZXMiCiAgICBwb2xpY2VVc2VyIC0+IHBuYyAiVXNlcyIKICAgIGNqc20gLT4gcG9saWNlVXNlciAiR2V0cyBlbWFpbCIKCiAgICAjIFJlbGF0aW9uc2hpcHMgYmV0d2VlbiBzb2Z0d2FyZSBzeXN0ZW1zCiAgICBjb21tb25QbGF0Zm9ybSAtPiBleGlzcyAiU2VuZHMgcmVzdWx0IG9mIGEgY291cnQgY2FzZSIKICAgIGxpYnJhIC0+IGV4aXNzICJTZW5kcyByZXN1bHQgb2YgYSBjb3VydCBjYXNlIgogICAgcXNvbHV0aW9uIC0+IHBuYyAiVXNlcyIKCiAgICBiaWNoYXJkSmF2YUFwcGxpY2F0aW9uIC0+IGJlYW5jb25uZWN0CgogICAgYmVhbmNvbm5lY3QgLT4gcXNvbHV0aW9uCgogICAgcXNvbHV0aW9uIC0+IHBuYwogICAgcXNvbHV0aW9uIC0+IG5naW54QXV0aFByb3h5CgogICAgIyBSZWxhdGlvbnNoaXBzIHRvL2Zyb20gY29tcG9uZW50cwogICAgZW1haWxTeXN0ZW0gLT4gY2pzbSAiU2VuZHMgdmVyaWZpY2F0aW9uIGNvZGUiCiAgICBiaWNoYXJkVXNlclNlcnZpY2UgLT4gZW1haWxTeXN0ZW0gIlNlbmRzIHZlcmlmaWNhdGlvbiBjb2RlIgoKICAgIG5naW54QXV0aFByb3h5IC0+IGJpY2hhcmRKYXZhQXBwbGljYXRpb24KICAgIG5naW54QXV0aFByb3h5IC0+IGJpY2hhcmRVc2VyU2VydmljZSAiVXNlcyIKICAgIG5naW54QXV0aFByb3h5IC0+IHN0YXRpY0ZpbGVTZXJ2aWNlCgogICAgYmljaGFyZFVzZXJTZXJ2aWNlIC0+IGRhdGFiYXNlICJSZWFkcyBmcm9tIC8gV3JpdGVzIHRvIgogICAgYmljaGFyZEphdmFBcHBsaWNhdGlvbiAtPiBkYXRhYmFzZSAiUmVhZHMgZnJvbSAvIFdyaXRlcyB0byIKCiAgICBleGlzcyAtPiBpbmNvbWluZ1MzQnVja2V0CiAgICBpbmNvbWluZ1MzQnVja2V0IC0+IHRyYW5zZmVyUHJvY2VzcwogICAgdHJhbnNmZXJQcm9jZXNzIC0+IGludGVybmFsSW5jb21pbmdTM0J1Y2tldAogICAgaW50ZXJuYWxJbmNvbWluZ1MzQnVja2V0IC0+IHN0b3JlTWVzc2FnZQogICAgc3RvcmVNZXNzYWdlIC0+IGF1ZGl0TG9nQXBpCiAgICBzdG9yZU1lc3NhZ2UgLT4gc2VuZFRvQmljaGFyZAogICAgc2VuZFRvQmljaGFyZCAtPiBhY3RpdmVNUQogICAgc2VuZFRvQmljaGFyZCAtPiByZWNvcmRTZW50VG9CaWNoYXJkCiAgICByZWNvcmRTZW50VG9CaWNoYXJkIC0+IGF1ZGl0TG9nQXBpCgogICAgYWN0aXZlTVEgLT4gZXZlbnRMYW1iZGEKICAgIGV2ZW50TGFtYmRhIC0+IGV2ZW50UzNCdWNrZXQKICAgIGV2ZW50UzNCdWNrZXQgLT4gd3JpdGVUb0F1ZGl0TG9nCiAgICB3cml0ZVRvQXVkaXRMb2cgLT4gYXVkaXRMb2dBcGkKCiAgICBhY3RpdmVNUSAtPiBiaWNoYXJkSmF2YUFwcGxpY2F0aW9uCiAgICBiaWNoYXJkSmF2YUFwcGxpY2F0aW9uIC0+IGFjdGl2ZU1RCgogICAgIyBBdWRpdCBMb2dnZXIKICAgIGF1ZGl0TG9nQXBpR2F0ZXdheSAtPiBhdWRpdExvZ0FwaUxhbWJkYQogICAgYXVkaXRMb2dBcGlMYW1iZGEgLT4gZHluYW1vREIKICAgIGF1ZGl0TG9nQXBpTGFtYmRhIC0+IGRhdGFiYXNlCiAgICBhdWRpdExvZ0FwaUxhbWJkYSAtPiBhY3RpdmVNUQoKICAgICMgUmVwb3J0aW5nCiAgICBhdXRvbWF0aW9uUmVwb3J0IC0+IGF1ZGl0TG9nQXBpCiAgICBjb21tb25QbGF0Zm9ybVJlcG9ydCAtPiBhdWRpdExvZ0FwaQogICAgYXV0b21hdGlvblJlcG9ydCAtPiBzdGF0aWNGaWxlU2VydmljZQogICAgdG9wRXhjZXB0aW9uc1JlcG9ydCAtPiBzdGF0aWNGaWxlU2VydmljZQogICAgY29tbW9uUGxhdGZvcm1SZXBvcnQgLT4gZW1haWxTeXN0ZW0KICAgIE1QU1JlcG9ydCAtPiBkYXRhYmFzZQogICAgdG9wRXhjZXB0aW9uc1JlcG9ydCAtPiBhdWRpdExvZ0FwaQoKICAgICMgTW9uaXRvcmluZwogICAgcHJvbWV0aGV1c0JsYWNrQm94RXhwb3J0ZXIgLT4gcHJvbWV0aGV1cwogICAgcHJvbWV0aGV1c0JsYWNrQm94RXhwb3J0ZXIgLT4gYmljaGFyZEphdmFBcHBsaWNhdGlvbgogICAgcHJvbWV0aGV1c0JsYWNrQm94RXhwb3J0ZXIgLT4gZ3JhZmFuYQogICAgcHJvbWV0aGV1c0JsYWNrQm94RXhwb3J0ZXIgLT4gb3BlblNlYXJjaAogICAgcHJvbWV0aGV1c0Nsb3VkV2F0Y2hFeHBvcnRlciAtPiBwcm9tZXRoZXVzCiAgICBwcm9tZXRoZXVzQ2xvdWRXYXRjaEV4cG9ydGVyIC0+IGNsb3VkV2F0Y2hNZXRyaWNzCgogICAgcHJvbWV0aGV1cyAtPiBzbnMKICAgIGNsb3VkV2F0Y2hNZXRyaWNzIC0+IHNucwogICAgcHJvbWV0aGV1cyAtPiBncmFmYW5hCiAgICBsb2dTdGFzaCAtPiBvcGVuU2VhcmNoCiAgICBjbG91ZFdhdGNoTG9ncyAtPiBsb2dTdGFzaAoKICAgIHNucyAtPiBwYWdlckR1dHkgIlNlbmRzIG1lc3NhZ2UiCiAgICBzbnMgLT4gc2xhY2tMYW1iZGEgIlNlbmRzIG1lc3NhZ2UiCiAgICBzbGFja0xhbWJkYSAtPiBzbGFjayAiU2VuZHMgbWVzc2FnZSIgInZpYSBUTFMgV2ViaG9vayIKCgogICAgIyMjIyMjIyBIeWJyaWQKICAgIG5naW54QXV0aFByb3h5IC0+IGJpY2hhcmRVSQogICAgYmljaGFyZFVJIC0+IGRhdGFiYXNlCgogICAgYmljaGFyZE5leHRDb3JlIC0+IGF1ZGl0TG9nQXBpCiAgICBiaWNoYXJkTmV4dENvcmUgLT4gZGF0YWJhc2UgIlJlYWRzIGZyb20gYW5kIHdyaXRlcyB0byIKICAgIGJpY2hhcmROZXh0Q29yZSAtPiBwbmNBcGkKICAgIHBuY0FwaSAtPiBiZWFuY29ubmVjdAoKICB9CgogIHZpZXdzIHsKICAgIHN5c3RlbUxhbmRzY2FwZSAiU3lzdGVtTGFuZHNjYXBlIiB7CiAgICAgIGluY2x1ZGUgKgogICAgICBleGNsdWRlIHNsYWNrIHBhZ2VyRHV0eQogICAgICBhdXRvTGF5b3V0IGxyCiAgICB9CgogICAgc3lzdGVtQ29udGV4dCBiaWNoYXJkICJCaWNoYXJkU3lzdGVtQ29udGV4dCIgewogICAgICBpbmNsdWRlICoKICAgICAgZXhjbHVkZSBzbGFjayBwYWdlckR1dHkKICAgICAgYXV0b0xheW91dCBscgogICAgfQoKICAgIGNvbnRhaW5lciBiaWNoYXJkICJPbGRCaWNoYXJkIiB7CiAgICAgIGluY2x1ZGUgKgogICAgICBleGNsdWRlIHNsYWNrIHBhZ2VyRHV0eSBiaWNoYXJkVUkgYmljaGFyZE5leHRDb3JlIGNvbmR1Y3RvciBwbmNBcGkKICAgICAgYXV0b0xheW91dAogICAgICB0aXRsZSAiT2xkIEJpY2hhcmQiCiAgICB9CgogICAgY29udGFpbmVyIGJpY2hhcmQgIkh5YnJpZEJpY2hhcmQiIHsKICAgICAgaW5jbHVkZSAqCiAgICAgIGV4Y2x1ZGUgc2xhY2sgcGFnZXJEdXR5CiAgICAgIHRpdGxlICJIeWJyaWQgQmljaGFyZCIKICAgIH0KCiAgICBjb21wb25lbnQgY29uZHVjdG9yIHsKICAgICAgaW5jbHVkZSAqCiAgICAgIGF1dG9MYXlvdXQgbHIKICAgIH0KCiAgICBjb21wb25lbnQgaW5jb21pbmdNZXNzYWdlSGFuZGxlciB7CiAgICAgIGluY2x1ZGUgKgogICAgICBhdXRvTGF5b3V0IGxyCiAgICB9CgogICAgY29tcG9uZW50IG1lc3NhZ2VUcmFuc2ZlciB7CiAgICAgIGluY2x1ZGUgKgogICAgICBhdXRvTGF5b3V0CiAgICB9CgogICAgY29tcG9uZW50IGF1ZGl0TG9nQXBpIHsKICAgICAgaW5jbHVkZSAqCiAgICAgIGF1dG9MYXlvdXQgbHIKICAgIH0KCiAgICBjb21wb25lbnQgZXZlbnRIYW5kbGVyIHsKICAgICAgaW5jbHVkZSAqCiAgICAgIGF1dG9MYXlvdXQgbHIKICAgIH0KCiAgICBjb21wb25lbnQgcmVwb3J0aW5nU2VydmljZSB7CiAgICAgIGluY2x1ZGUgKgogICAgICBhdXRvTGF5b3V0IGxyCiAgICB9CgogICAgY29tcG9uZW50IG1vbml0b3JpbmcgewogICAgICBpbmNsdWRlICoKICAgICAgYXV0b0xheW91dCBscgogICAgfQoKICAgIHRoZW1lIGRlZmF1bHQKCiAgICBzdHlsZXMgewogICAgICBlbGVtZW50ICJXZWIgQnJvd3NlciIgewogICAgICAgIHNoYXBlIFdlYkJyb3dzZXIKICAgICAgfQoKICAgICAgZWxlbWVudCAiRGF0YWJhc2UiIHsKICAgICAgICBzaGFwZSBDeWxpbmRlcgogICAgICB9CgogICAgICBlbGVtZW50ICJBUEkiIHsKICAgICAgICBzaGFwZSBoZXhhZ29uCiAgICAgIH0KCiAgICAgIGVsZW1lbnQgIlF1ZXVlIiB7CiAgICAgICAgc2hhcGUgIlBpcGUiCiAgICAgIH0KCiAgICAgIGVsZW1lbnQgIkxhbWJkYSIgewogICAgICAgIHNoYXBlICJEaWFtb25kIgogICAgICB9CgogICAgICBlbGVtZW50ICJTTlMiIHsKICAgICAgICBzaGFwZSBQaXBlCiAgICAgIH0KCiAgICAgIGVsZW1lbnQgIkV4dGVybmFsIiB7CiAgICAgICAgYmFja2dyb3VuZCAjOWI3NmZmCiAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICB9CgogICAgICBlbGVtZW50ICJFeGlzdGluZyBTeXN0ZW0iIHsKICAgICAgICBiYWNrZ3JvdW5kICM5OTk5OTkKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgIH0KICAgIH0KICB9Cn0="
  },
  "views" : {
    "componentViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "53",
      "elements" : [ {
        "id" : "26",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "51",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "54",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-001",
      "order" : 5,
      "relationships" : [ {
        "id" : "102"
      }, {
        "id" : "137"
      }, {
        "id" : "139"
      }, {
        "id" : "141"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "15",
      "elements" : [ {
        "id" : "12",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "16",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "17",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "18",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "19",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "24",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-002",
      "order" : 6,
      "relationships" : [ {
        "id" : "104"
      }, {
        "id" : "81"
      }, {
        "id" : "83"
      }, {
        "id" : "84"
      }, {
        "id" : "86"
      }, {
        "id" : "87"
      }, {
        "id" : "89"
      }, {
        "id" : "90"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "12",
      "elements" : [ {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "13",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "14",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-003",
      "order" : 7,
      "relationships" : [ {
        "id" : "75"
      }, {
        "id" : "78"
      }, {
        "id" : "80"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "30",
      "elements" : [ {
        "id" : "24",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "26",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "31",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "32",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "33",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-004",
      "order" : 8,
      "relationships" : [ {
        "id" : "100"
      }, {
        "id" : "101"
      }, {
        "id" : "103"
      }, {
        "id" : "99"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "21",
      "elements" : [ {
        "id" : "20",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "22",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "23",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-005",
      "order" : 9,
      "relationships" : [ {
        "id" : "92"
      }, {
        "id" : "94"
      }, {
        "id" : "95"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "35",
      "elements" : [ {
        "id" : "26",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "27",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "34",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "36",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "37",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "38",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "39",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-006",
      "order" : 10,
      "relationships" : [ {
        "id" : "102"
      }, {
        "id" : "105"
      }, {
        "id" : "107"
      }, {
        "id" : "108"
      }, {
        "id" : "110"
      }, {
        "id" : "111"
      }, {
        "id" : "113"
      }, {
        "id" : "115"
      } ]
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "containerId" : "40",
      "elements" : [ {
        "id" : "5",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "6",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "28",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "41",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "42",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "43",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "44",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "45",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "46",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "47",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "48",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "49",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "50",
        "x" : 0,
        "y" : 0
      } ],
      "externalContainerBoundariesVisible" : false,
      "generatedKey" : true,
      "key" : "Component-007",
      "order" : 11,
      "relationships" : [ {
        "id" : "116"
      }, {
        "id" : "117"
      }, {
        "id" : "119"
      }, {
        "id" : "120"
      }, {
        "id" : "121"
      }, {
        "id" : "122"
      }, {
        "id" : "123"
      }, {
        "id" : "124"
      }, {
        "id" : "125"
      }, {
        "id" : "126"
      }, {
        "id" : "127"
      }, {
        "id" : "128"
      }, {
        "id" : "131"
      }, {
        "id" : "132"
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "shape" : "WebBrowser",
          "tag" : "Web Browser"
        }, {
          "shape" : "Cylinder",
          "tag" : "Database"
        }, {
          "shape" : "Hexagon",
          "tag" : "API"
        }, {
          "shape" : "Pipe",
          "tag" : "Queue"
        }, {
          "shape" : "Diamond",
          "tag" : "Lambda"
        }, {
          "shape" : "Pipe",
          "tag" : "SNS"
        }, {
          "background" : "#9b76ff",
          "color" : "#ffffff",
          "tag" : "External"
        }, {
          "background" : "#999999",
          "color" : "#ffffff",
          "tag" : "Existing System"
        } ]
      },
      "terminology" : { },
      "themes" : [ "https://static.structurizr.com/themes/default/theme.json" ]
    },
    "containerViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elements" : [ {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "11",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "12",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "20",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "21",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "24",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "25",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "26",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "27",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "28",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "29",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "34",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "35",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "40",
        "x" : 0,
        "y" : 0
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "OldBichard",
      "order" : 3,
      "relationships" : [ {
        "id" : "102"
      }, {
        "id" : "104"
      }, {
        "id" : "106"
      }, {
        "id" : "109"
      }, {
        "id" : "112"
      }, {
        "id" : "114"
      }, {
        "id" : "118"
      }, {
        "id" : "61"
      }, {
        "id" : "62"
      }, {
        "id" : "65"
      }, {
        "id" : "67"
      }, {
        "id" : "69"
      }, {
        "id" : "70"
      }, {
        "id" : "71"
      }, {
        "id" : "72"
      }, {
        "id" : "73"
      }, {
        "id" : "74"
      }, {
        "id" : "76"
      }, {
        "id" : "82"
      }, {
        "id" : "85"
      }, {
        "id" : "88"
      }, {
        "id" : "91"
      }, {
        "id" : "93"
      }, {
        "id" : "96"
      }, {
        "id" : "97"
      }, {
        "id" : "98"
      } ],
      "softwareSystemId" : "10",
      "title" : "Old Bichard"
    }, {
      "elements" : [ {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "11",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "12",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "20",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "21",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "24",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "25",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "26",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "27",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "28",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "29",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "34",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "35",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "40",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "51",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "52",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "53",
        "x" : 0,
        "y" : 0
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "HybridBichard",
      "order" : 4,
      "relationships" : [ {
        "id" : "102"
      }, {
        "id" : "104"
      }, {
        "id" : "106"
      }, {
        "id" : "109"
      }, {
        "id" : "112"
      }, {
        "id" : "114"
      }, {
        "id" : "118"
      }, {
        "id" : "135"
      }, {
        "id" : "136"
      }, {
        "id" : "138"
      }, {
        "id" : "140"
      }, {
        "id" : "142"
      }, {
        "id" : "143"
      }, {
        "id" : "61"
      }, {
        "id" : "62"
      }, {
        "id" : "65"
      }, {
        "id" : "67"
      }, {
        "id" : "69"
      }, {
        "id" : "70"
      }, {
        "id" : "71"
      }, {
        "id" : "72"
      }, {
        "id" : "73"
      }, {
        "id" : "74"
      }, {
        "id" : "76"
      }, {
        "id" : "82"
      }, {
        "id" : "85"
      }, {
        "id" : "88"
      }, {
        "id" : "91"
      }, {
        "id" : "93"
      }, {
        "id" : "96"
      }, {
        "id" : "97"
      }, {
        "id" : "98"
      } ],
      "softwareSystemId" : "10",
      "title" : "Hybrid Bichard"
    } ],
    "systemContextViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elements" : [ {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "10",
        "x" : 0,
        "y" : 0
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "BichardSystemContext",
      "order" : 2,
      "relationships" : [ {
        "id" : "63"
      }, {
        "id" : "66"
      }, {
        "id" : "68"
      }, {
        "id" : "77"
      } ],
      "softwareSystemId" : "10"
    } ],
    "systemLandscapeViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "3",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "4",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "7",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "10",
        "x" : 0,
        "y" : 0
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "SystemLandscape",
      "order" : 1,
      "relationships" : [ {
        "id" : "55"
      }, {
        "id" : "56"
      }, {
        "id" : "57"
      }, {
        "id" : "58"
      }, {
        "id" : "59"
      }, {
        "id" : "60"
      }, {
        "id" : "63"
      }, {
        "id" : "64"
      }, {
        "id" : "66"
      }, {
        "id" : "68"
      }, {
        "id" : "77"
      } ]
    } ]
  }
}