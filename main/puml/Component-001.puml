@startuml
set separator none
title Bichard - Conductor - Components

top to bottom direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>
!include <C4/C4_Component>

ContainerDb(Bichard.BichardDatabase, "Bichard Database", $techn="PostgreSQL", $descr="", $tags="", $link="")
Container(Bichard.AuditLog, "Audit Log", $techn="", $descr="", $tags="", $link="")
Container(Bichard.PNCAPI, "PNC API", $techn="", $descr="", $tags="", $link="")

Container_Boundary("Bichard.Conductor_boundary", "Conductor", $tags="") {
  AddBoundaryTag("Core Worker", $borderColor="#cccccc", $fontColor="#cccccc", $borderStyle="dashed")
  Boundary(group_1, "Core Worker", $tags="Core Worker") {
    Component(Bichard.Conductor.Phase1Queue, "Phase 1 Queue", $techn="TypeScript", $descr="", $tags="", $link="")
    Component(Bichard.Conductor.Phase2Queue, "Phase 2 Queue", $techn="TypeScript", $descr="", $tags="", $link="")
    Component(Bichard.Conductor.Phase3Queue, "Phase 3 Queue", $techn="TypeScript", $descr="", $tags="", $link="")
  }

}

Rel(Bichard.Conductor.Phase1Queue, Bichard.Conductor.Phase1Queue, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase1Queue, Bichard.Conductor.Phase2Queue, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase2Queue, Bichard.Conductor.Phase2Queue, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase2Queue, Bichard.Conductor.Phase3Queue, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase1Queue, Bichard.AuditLog, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase2Queue, Bichard.AuditLog, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase3Queue, Bichard.AuditLog, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase3Queue, Bichard.PNCAPI, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase1Queue, Bichard.BichardDatabase, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase2Queue, Bichard.BichardDatabase, "", $techn="", $tags="", $link="")
Rel(Bichard.Conductor.Phase3Queue, Bichard.BichardDatabase, "", $techn="", $tags="", $link="")

SHOW_LEGEND(true)
@enduml